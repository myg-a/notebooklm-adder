# NotebookLM Chrome拡張機能 要件定義書

## 1. プロジェクト概要

### 1.1 目的
GoogleのNotebookLMに現在開いているブラウザ画面やページ内のリンクをソースとして効率的にインポートするChrome拡張機能を開発する。

### 1.2 背景
NotebookLMを使用する際に、現在閲覧中のページや関連リンクを手動でインポートするのは煩雑であり、より効率的な方法が求められている。

## 2. 機能要件

### 2.1 基本機能

#### 2.1.1 現在ページのインポート機能
- **機能**: 現在開いているページのURLを選択したノートブックにソースとして追加
- **入力**: 現在のページURL、選択したノートブック
- **出力**: NotebookLMへのソース追加完了

#### 2.1.2 リンク一括インポート機能
- **機能**: 現在ページ内の全リンクを一覧表示し、チェックしたものを選択したノートブックに一括追加
- **入力**: ページ内の全リンクURL、ユーザーの選択、選択したノートブック
- **出力**: 選択されたリンクのNotebookLMへの一括追加完了

#### 2.1.3 新規ノートブック作成機能
- **機能**: 新規ノートブックを作成し、そこにソースを追加
- **入力**: ノートブック名、追加するURL
- **出力**: 新規ノートブック作成とソース追加完了

### 2.2 UI/UX要件

#### 2.2.1 起動方法
- **メイン機能**: ツールバーアイコンクリック
- **将来のエンハンス**: 右クリックメニューからの起動

#### 2.2.2 ノートブック選択
- 既存ノートブックのタイトル一覧を拡張機能内で表示
- ユーザーが選択可能なUI

#### 2.2.3 完了後の操作
- 追加完了後または新規ノートブック作成完了後に、そのNotebookLMページを開くボタンを表示

## 3. 技術要件

### 3.1 対応環境
- **ブラウザ**: Google Chrome（現行バージョン）
- **API**: NotebookLM公式API使用

### 3.2 データ形式
- **インポート形式**: URLそのものをソースとして追加（NotebookLMがページ内容を自動取得）
- **リンク検出範囲**: ページ内の全リンク（`<a href>`タグ）

### 3.3 自動化レベル
- **完全自動化**: 拡張機能がNotebookLM APIを使用してソース追加まで完了
- **ページ操作**: 完了後にNotebookLMページへのリンクボタンを提供

## 4. 将来のエンハンス機能（現時点では実装対象外）

### 4.1 UI/UX改善
- 右クリックメニューからの起動
- プレビュー機能（追加前にURLリストを確認）
- 進捗表示（一括追加時の進捗バー）

### 4.2 機能拡張
- エラーハンドリング（失敗したURLの再試行機能）
- 設定画面（デフォルトノートブック、除外ドメインなど）
- リンクフィルタリング機能（特定ドメインの除外/含有）
- 利用制限機能（社内サイトなどでの動作制御）

### 4.3 対応拡張
- 他ブラウザ対応（Firefox、Edgeなど）
- 旧バージョンChrome対応

## 5. API制約事項と実現可能性

### 5.1 NotebookLM API現状
- **要調査**: NotebookLM公式APIの現在の機能範囲
- **制約対応**: APIで実現できない機能は将来要件として記録

### 5.2 代替手段
- API制約がある場合の代替実装方法を検討
- ページ自動操作方式との比較検討

## 6. 成功基準

### 6.1 機能面
- 現在ページのURLを1クリックでNotebookLMにインポート可能
- ページ内リンクを選択して一括インポート可能
- 新規ノートブック作成とソース追加が連続で実行可能

### 6.2 ユーザビリティ面
- 操作が直感的で分かりやすい
- エラー時の適切なフィードバック
- 処理完了の明確な確認

## 7. 開発フェーズ

### Phase 1: MVP開発
- 基本3機能の実装
- ツールバーアイコンでの起動
- NotebookLM API連携

### Phase 2: エンハンス機能
- 将来要件として記録した機能の優先順位付けと実装

---

**作成日**: 2025年6月10日  
**バージョン**: 1.0  
**ステータス**: ドラフト